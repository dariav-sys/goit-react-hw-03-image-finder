{"version":3,"sources":["components/searchbar/Searchbar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/modal/Modal.js","services/picturesApi.js","App.js","index.js"],"names":["Searchbar","onHandleSubmit","onHandleChange","query","className","onSubmit","type","autoComplete","autoFocus","placeholder","value","onChange","ImageGalleryItem","pictures","onOpenModal","map","id","webformatURL","largeImageURL","tags","src","alt","onClick","data-img","ImageGallery","Button","Modal","componentDidMount","window","addEventListener","handleCloseOnEscape","componentWillUnmount","removeEventListener","e","code","props","onClose","handleCloseOnBackdrop","target","currentTarget","this","children","Component","fetchImages","searchQuery","page","axios","get","App","state","loading","showModal","onChangeQuery","setState","onToggleModal","event","dataset","img","fetchPictures","then","response","prevState","data","hits","finally","clearSubmit","preventDefault","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.72664ff5.chunk.js","sourcesContent":["// import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\n// export default class Searchbar extends Component {\n//   static propTypes = {\n//     onSubmit: PropTypes.func.isRequired,\n//   };\n\n//   state = {\n//     query: '',\n//     pictures: [],\n//     page: 1,\n//   };\n\n//   onHandleChange = ({ target }) => {\n//     const { value: query } = target;\n//     this.setState({ query });\n//   };\n\n//   onHandleSubmit = e => {\n//     e.preventDefault();\n//     this.props.onSubmit(this.state.query);\n//     this.setState({\n//       pictures: [],\n//       page: 1,\n//     });\n//     this.props.clearSubmit();\n//   };\n\n//   render() {\n//     return (\n//       <header className=\"Searchbar\">\n//         <form className=\"SearchForm\" onSubmit={this.onHandleSubmit}>\n//           <button type=\"submit\" className=\"SearchForm-button\">\n//             <span className=\"SearchForm-button-label\">Search</span>\n//           </button>\n\n//           <input\n//             className=\"SearchForm-input\"\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             value={this.state.query}\n//             onChange={this.onHandleChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\nimport React from 'react';\n\nconst Searchbar = ({ onHandleSubmit, onHandleChange, query }) => {\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={onHandleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={onHandleChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import React from 'react';\n\nconst ImageGalleryItem = ({ pictures, onOpenModal }) => {\n  return pictures.map(({ id, webformatURL, largeImageURL, tags }) => {\n    return (\n      <li key={id} className=\"ImageGalleryItem\">\n        <img\n          src={webformatURL}\n          alt={tags}\n          onClick={onOpenModal}\n          data-img={largeImageURL}\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  });\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ pictures, onOpenModal }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem pictures={pictures} onOpenModal={onOpenModal} />\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load More\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\n\nclass Modal extends Component {\n  componentDidMount = () => {\n    window.addEventListener('keydown', this.handleCloseOnEscape);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('keydown', this.handleCloseOnEscape);\n  };\n\n  handleCloseOnEscape = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleCloseOnBackdrop = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleCloseOnBackdrop}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nexport const fetchImages = ({ searchQuery = '', page = 1 }) => {\n  const key = '20192058-8d48266eaed8d6a6c61b42150';\n  const BASE_URL = 'https://pixabay.com/api';\n  return axios.get(\n    `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n","import React, { Component } from 'react';\n\nimport Searchbar from './components/searchbar/Searchbar';\nimport Loader from 'react-loader-spinner';\nimport ImageGallery from './components/imageGallery/ImageGallery';\nimport Button from './components/button/Button';\nimport Modal from './components/modal/Modal';\n\nimport { fetchImages } from './services/picturesApi';\n\nimport './index.css';\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    searchQuery: '',\n    loading: false,\n    showModal: false,\n    largeImageURL: '',\n    tags: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures();\n    }\n    if (prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query });\n  };\n\n  onToggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  onOpenModal = event => {\n    // console.log('object');\n    this.setState({\n      largeImageURL: event.target.dataset.img,\n      tags: event.target.alt,\n    });\n    this.onToggleModal();\n  };\n\n  fetchPictures = () => {\n    const { page, searchQuery } = this.state;\n    this.setState({ loading: true });\n\n    fetchImages({ searchQuery, page })\n      .then(response => {\n        // console.log(response);\n        this.setState(prevState => {\n          return {\n            pictures: [...prevState.pictures, ...response.data.hits],\n            page: prevState.page + 1,\n          };\n        });\n      })\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  clearSubmit = () => {\n    this.setState({\n      pictures: [],\n      page: 1,\n    });\n  };\n\n  onHandleChange = ({ target }) => {\n    const { value: query } = target;\n    this.setState({ query });\n  };\n\n  onHandleSubmit = e => {\n    e.preventDefault();\n    this.onChangeQuery(this.state.query);\n    this.setState({\n      pictures: [],\n      page: 1,\n    });\n    this.clearSubmit();\n  };\n\n  render() {\n    const { pictures, loading, showModal, largeImageURL, tags } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar\n          onHandleSubmit={this.onHandleSubmit}\n          onHandleChange={this.onHandleChange}\n        />\n        <div className=\"Loader\">{loading && <Loader />}</div>\n        <ImageGallery pictures={pictures} onOpenModal={this.onOpenModal} />\n        {pictures.length > 0 && <Button onClick={this.fetchPictures} />}\n        {showModal && (\n          <Modal onClick={this.onOpenModal} onClose={this.onToggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\";\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}